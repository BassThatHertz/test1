cmake_minimum_required(VERSION 3.12)
project(sgxd)

set(CMAKE_CXX_STANDARD 14)

include_directories(.)
include_directories(libff/libff/algebra/curves/alt_bn128)
include_directories(libff/libff/algebra/curves/bn128)
include_directories(libff/libff/algebra/curves/edwards)
include_directories(libff/libff/algebra/curves/mnt)
include_directories(libff/libff/algebra/curves/mnt/mnt4)
include_directories(libff/libff/algebra/curves/mnt/mnt6)
include_directories(libff/libff/common/default_types)
include_directories(secure_enclave)

add_custom_target(sgxd COMMAND make all
        WORKING_DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR}
        SOURCES
        libff/libff/algebra/curves/alt_bn128/alt_bn128_g1.cpp
        libff/libff/algebra/curves/alt_bn128/alt_bn128_g1.hpp
        libff/libff/algebra/curves/alt_bn128/alt_bn128_init.cpp
        libff/libff/algebra/curves/alt_bn128/alt_bn128_init.hpp
        libff/libff/algebra/curves/alt_bn128/alt_bn128_pp.cpp
        libff/libff/algebra/curves/alt_bn128/alt_bn128_pp.hpp
        libff/libff/algebra/curves/bn128/bn128_g1.cpp
        libff/libff/algebra/curves/bn128/bn128_g1.hpp
        libff/libff/algebra/curves/bn128/bn128_g2.cpp
        libff/libff/algebra/curves/bn128/bn128_g2.hpp
        libff/libff/algebra/curves/bn128/bn128_gt.cpp
        libff/libff/algebra/curves/bn128/bn128_gt.hpp
        libff/libff/algebra/curves/bn128/bn128_init.cpp
        libff/libff/algebra/curves/bn128/bn128_init.hpp
        libff/libff/algebra/curves/bn128/bn128_pairing.cpp
        libff/libff/algebra/curves/bn128/bn128_pairing.hpp
        libff/libff/algebra/curves/bn128/bn128_pp.cpp
        libff/libff/algebra/curves/bn128/bn128_pp.hpp
        libff/libff/algebra/curves/bn128/bn_utils.hpp
        libff/libff/algebra/curves/bn128/bn_utils.tcc
        libff/libff/algebra/curves/edwards/edwards_g1.cpp
        libff/libff/algebra/curves/edwards/edwards_g1.hpp
        libff/libff/algebra/curves/edwards/edwards_g2.cpp
        libff/libff/algebra/curves/edwards/edwards_g2.hpp
        libff/libff/algebra/curves/edwards/edwards_init.cpp
        libff/libff/algebra/curves/edwards/edwards_init.hpp
        libff/libff/algebra/curves/edwards/edwards_pairing.cpp
        libff/libff/algebra/curves/edwards/edwards_pairing.hpp
        libff/libff/algebra/curves/edwards/edwards_pp.cpp
        libff/libff/algebra/curves/edwards/edwards_pp.hpp
        libff/libff/algebra/curves/mnt/mnt4/mnt4_g1.cpp
        libff/libff/algebra/curves/mnt/mnt4/mnt4_g1.hpp
        libff/libff/algebra/curves/mnt/mnt4/mnt4_g2.cpp
        libff/libff/algebra/curves/mnt/mnt4/mnt4_g2.hpp
        libff/libff/algebra/curves/mnt/mnt4/mnt4_init.cpp
        libff/libff/algebra/curves/mnt/mnt4/mnt4_init.hpp
        libff/libff/algebra/curves/mnt/mnt4/mnt4_pairing.cpp
        libff/libff/algebra/curves/mnt/mnt4/mnt4_pairing.hpp
        libff/libff/algebra/curves/mnt/mnt4/mnt4_pp.cpp
        libff/libff/algebra/curves/mnt/mnt4/mnt4_pp.hpp
        libff/libff/algebra/curves/mnt/mnt6/mnt6_g1.cpp
        libff/libff/algebra/curves/mnt/mnt6/mnt6_g1.hpp
        libff/libff/algebra/curves/mnt/mnt6/mnt6_g2.cpp
        libff/libff/algebra/curves/mnt/mnt6/mnt6_g2.hpp
        libff/libff/algebra/curves/mnt/mnt6/mnt6_init.cpp
        libff/libff/algebra/curves/mnt/mnt6/mnt6_init.hpp
        libff/libff/algebra/curves/mnt/mnt6/mnt6_pairing.cpp
        libff/libff/algebra/curves/mnt/mnt6/mnt6_pairing.hpp
        libff/libff/algebra/curves/mnt/mnt6/mnt6_pp.cpp
        libff/libff/algebra/curves/mnt/mnt6/mnt6_pp.hpp
        libff/libff/algebra/curves/mnt/mnt46_common.cpp
        libff/libff/algebra/curves/mnt/mnt46_common.hpp
        libff/libff/algebra/curves/tests/test_bilinearity.cpp
        libff/libff/algebra/curves/tests/test_groups.cpp
        libff/libff/algebra/curves/curve_utils.hpp
        libff/libff/algebra/curves/curve_utils.tcc
        libff/libff/algebra/curves/public_params.hpp
        libff/libff/algebra/exponentiation/exponentiation.hpp
        libff/libff/algebra/exponentiation/exponentiation.tcc
        libff/libff/algebra/fields/tests/test_fields.cpp
        libff/libff/algebra/fields/bigint.hpp
        libff/libff/algebra/fields/bigint.tcc
        libff/libff/algebra/fields/field_utils.hpp
        libff/libff/algebra/fields/field_utils.tcc
        libff/libff/algebra/fields/fp.hpp
        libff/libff/algebra/fields/fp.tcc
        libff/libff/algebra/fields/fp_aux.tcc
        libff/libff/algebra/scalar_multiplication/multiexp.hpp
        libff/libff/algebra/scalar_multiplication/multiexp.tcc
        libff/libff/algebra/scalar_multiplication/multiexp_profile.cpp
        libff/libff/algebra/scalar_multiplication/wnaf.hpp
        libff/libff/algebra/scalar_multiplication/wnaf.tcc
        libff/libff/common/default_types/ec_pp.hpp
        libff/libff/common/double.cpp
        libff/libff/common/double.hpp
        libff/libff/common/profiling.cpp
        libff/libff/common/profiling.hpp
        libff/libff/common/rng.hpp
        libff/libff/common/rng.tcc
        libff/libff/common/template_utils.hpp
        libff/libff/common/utils.cpp
        libff/libff/common/utils.hpp
        libff/libff/common/utils.tcc
        secure_enclave/BLSUtils.cpp
        secure_enclave/BLSUtils.h
        secure_enclave/secure_enclave.c
        secure_enclave/secure_enclave_t.c
        secure_enclave/secure_enclave_t.h
        secure_enclave/DKGUtils.h
        secure_enclave/DKGUtils.cpp
        create_enclave.c
        create_enclave.h
        oc_alloc.c
        secure_enclave_u.c
        secure_enclave_u.h
        sgx_detect.h
        sgx_detect_linux.c
        sgx_stub.c
        sgx_stub.h
        sgx_tgmp.h
        sgxd.c
        )
